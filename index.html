<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0b0f" />
  <title>2 km Minus 30 Final</title>

  <style>
    :root {
      --bg: #0b0b0f;
      --card: #15151c;
      --card2: #101017;
      --muted: #9aa0a6;
      --text: #ffffff;
      --accent: #6fd3ff;
      --line: rgba(255,255,255,.08);
      --pill: rgba(255,255,255,.06);
      --green: #4caf50;
      --active: #2196f3;
    }
    * { box-sizing:border-box; }
    html, body { margin:0; padding:0; background:var(--bg); color:var(--text); font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif; }
    .app { max-width:480px; margin:0 auto; padding:18px 14px 34px; }
    h1 { margin:4px 0 14px; font-size:28px; }
    .sub { color:var(--muted); font-size:13px; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:10px; }
    .chip { background:var(--pill); padding:10px 12px; border-radius:14px; }
    select { background:#101017; color:#fff; border:1px solid var(--line); border-radius:14px; padding:10px 12px; }
    .card { background:var(--card); border:1px solid var(--line); border-radius:22px; padding:16px; margin:14px 0; }
    .cardTitle { font-size:18px; font-weight:800; margin-bottom:6px; }
    .dayTitle { font-size:22px; font-weight:900; margin-bottom:6px; }
    .muted { color:var(--muted); font-size:14px; }
    ul { padding-left:20px; }
    .repRow { display:flex; justify-content:space-between; align-items:center; padding:6px 0; border-bottom:1px solid var(--line); }
    .repRow.active { background: var(--active); }
    .repRow.completed { background: var(--green); }
    .timerSpan { font-weight:bold; min-width:50px; text-align:right; font-size:18px; }
    #sessionTime { font-size:36px; text-align:center; margin-bottom:12px; }
    button { background:var(--accent); border:none; color:#000; padding:8px 12px; margin-right:6px; border-radius:6px; font-weight:bold; cursor:pointer; }
    .calendarDay { display:inline-block; width:30px; height:30px; margin:2px; text-align:center; line-height:30px; background:#222; border-radius:4px; }
    .calendarDay.active { border:1px solid var(--accent); }
    .calendarDay.completed { background: var(--green); }
    .calendar { margin-top:16px; }
    .fatigue { display:flex; gap:10px; align-items:center; margin-top:10px; }
    .fatigue input { width:40px; text-align:center; font-weight:bold; }
  </style>
</head>

<body>
  <div class="app">
    <h1>2 km Minus 30 Final</h1>
    <div class="sub">Scientifically-based 6-day plan · Goal: 8:00 2 km</div>

    <div id="sessionTime">00:00:00</div>
    <div class="row">
      <button id="startSession">Start</button>
      <button id="pauseSession">Pause</button>
      <button id="resetSession">Reset</button>
    </div>

    <div class="row">
      <div class="chip">
        <strong>Day</strong>
        <select id="daySelect"></select>
      </div>
    </div>

    <div class="card" id="dayCard">
      <div class="dayTitle" id="dayTitle">—</div>
      <div class="muted" id="dayExplain">Select a day to see details</div>

      <details open>
        <summary>Warm-up</summary>
        <ul id="warmupList"></ul>
      </details>

      <div id="mainBlock"></div>

      <details>
        <summary>Mobility</summary>
        <div id="mobilityList"></div>
      </details>
    </div>

    <div class="card">
      <div class="cardTitle">Fatigue Rating</div>
      <div class="fatigue">
        <label>Pre: <input type="number" min="1" max="5" id="preFatigue" placeholder="1-5"></label>
        <label>Post: <input type="number" min="1" max="5" id="postFatigue" placeholder="1-5"></label>
      </div>
      <div class="muted">1 = very easy, 5 = max effort</div>
    </div>

    <div class="card">
      <div class="cardTitle">Calendar</div>
      <div id="calendar" class="calendar"></div>
    </div>

  </div>

  <script src="app.js?v=1"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js").catch(()=>{});
    }
  </script>
</body>
</html>
